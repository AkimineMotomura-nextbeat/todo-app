@*
* Todoの詳細を表示, 編集するページ
*@

@import helper._
@import controllers.TodoFormData
@import lib.model.Category
@(id: Long, form: Form[TodoFormData], categorys: Seq[Category], vv: model.ViewValueCommon)(implicit messageProvider: MessagesProvider, requestHeader: RequestHeader)

@common.Default(vv){
    <h2>編集画面</h2>
    @helper.form(action = routes.TodoController.update(id)) {
        @CSRF.formField
        @inputText(form("title"))
        @textarea(form("content"), 'rows -> 7, 'cols -> 40)
        @select(
            field = form("state"), 
            options = Seq(
                "0" -> "TODO(着手前)", 
                "1" -> "進行中",
                "2" -> "完了"
            )
        )
        @select(
            field = form("category"),
            options = categorys.map(category => category.id.get.toString -> category.name)
        )
        <input type="submit" value="登録">
    }
}